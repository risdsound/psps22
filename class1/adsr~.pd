#N canvas 707 23 872 651 12;
#X obj 129 120 inlet;
#X text 125 95 trigger;
#X obj 129 148 sel 0;
#X obj 263 164 t b;
#X obj 190 298 pack 0 \$2;
#X obj 495 160 inlet;
#X obj 422 285 del \$2;
#X obj 595 456 line~;
#X obj 446 313 f \$4;
#X obj 485 388 pack 0 \$3;
#X obj 545 160 inlet;
#X obj 600 160 inlet;
#X obj 656 160 inlet;
#X msg 129 179 stop;
#X obj 596 315 pack 0 \$5;
#X obj 595 486 outlet~;
#X text 57 135 if zero;
#X text 57 152 release;
#X text 36 169 and cancel;
#X text 71 186 decay;
#X text 667 307 on release ramp;
#X text 668 324 back to zero;
#X obj 446 338 * 0.01;
#X text 82 564 Objects such as "f" and "pack" can be given dollar sign
arguments to initialize their contents from adsr's creation arguments.
Inlets are supplied to change them on the fly.;
#X text 122 35 ADSR ENVELOPE;
#X text 491 138 attack;
#X text 546 138 decay;
#X text 593 138 sustain;
#X text 653 138 release;
#X text 229 80 attack;
#X obj 231 101 moses;
#X obj 218 131 t b b;
#X msg 152 299 0;
#X text 58 266 ATTACK:;
#X text 82 474 When you send this patch a positive trigger it schedules
a line~ to do an attack and decay \, and if zero \, it starts the release
ramp.;
#X text 279 98 test for negative trigger;
#X text 277 122 if so \, zero;
#X text 278 137 the output;
#X text 300 174 in any case;
#X text 303 158 ... do this;
#X text 82 526 Negative triggers cause the output to jump to zero and
then attack (instead of attacking from the current location).;
#X text 343 20 Arguments: level \, attack time \, decay time \, sustain
level \, release time. A \, D \, and R are in msec and S is in percent.
This patch is used as an abstraction in various examples.;
#X obj 596 356 s line;
#X obj 485 419 s line;
#X obj 190 328 s line;
#X obj 595 419 r line;
#X text 309 374 multiply by peak level and pack with decay time, f
24;
#X text 292 281 on attack \, set a delay for sustain, f 17;
#X text 297 319 recall sustain value convert from percent, f 20;
#X text 57 288 optionally bash to zero, f 12;
#X text 21 326 then recall peak level and pack with attack time and
send to line~, f 22;
#X text 387 420 send to line~;
#X text 645 356 send to line~;
#X text 649 412 get atack/decay/release lines, f 23;
#X text 644 456 generate envelope;
#X obj 190 273 f 1;
#X obj 485 364 * 1;
#X text 596 564 from example in Pd version 0.37 \; modified to set
1 as peak level;
#X connect 0 0 2 0;
#X connect 2 0 13 0;
#X connect 2 0 14 0;
#X connect 2 1 30 0;
#X connect 3 0 6 0;
#X connect 3 0 55 0;
#X connect 4 0 44 0;
#X connect 5 0 4 1;
#X connect 5 0 6 1;
#X connect 6 0 8 0;
#X connect 7 0 15 0;
#X connect 8 0 22 0;
#X connect 9 0 43 0;
#X connect 10 0 9 1;
#X connect 11 0 8 1;
#X connect 12 0 14 1;
#X connect 13 0 6 0;
#X connect 14 0 42 0;
#X connect 22 0 56 0;
#X connect 30 0 31 0;
#X connect 30 1 3 0;
#X connect 31 0 3 0;
#X connect 31 1 32 0;
#X connect 32 0 44 0;
#X connect 45 0 7 0;
#X connect 55 0 4 0;
#X connect 56 0 9 0;
